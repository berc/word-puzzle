webpackJsonp([0],{0:function(e,exports,t){t(1),e.exports=t(297)},297:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=t(298),o=n(r),a=t(300),u=n(a),l=t(386),s=n(l),i=t(388),c=n(i),d=t(402),f=n(d),p=t(451),v=n(p);t(455);var $=t(457);window.jQuery=$,t(458),o.default.module("app",[u.default,s.default,c.default,f.default]).config(["$locationProvider",function(e){"ngInject";e.html5Mode(!0).hashPrefix("!")}]).component("app",v.default)},388:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(298),o=n(r),a=t(389),u=n(a),l=t(398),s=n(l),i=t(399),c=n(i),d=t(400),f=n(d),p=t(401),v=n(p),h=o.default.module("app.common",[u.default]).factory("Config",s.default).directive("validWordEntering",c.default).factory("scoreService",f.default).factory("scoreApiService",v.default).name;exports.default=h},389:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(298),o=n(r),a=t(300),u=n(a),l=t(390),s=n(l),i=o.default.module("navbar",[u.default]).component("navbar",s.default).name;exports.default=i},390:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(391),o=n(r),a=t(392),u=n(a);t(394);var l={bindings:{},template:o.default,controller:u.default};exports.default=l},391:function(e,exports){e.exports='<header class="header">\n  <nav class="navbar navbar-default" role="navigation">\n    <div class="navbar-header">\n      <button type="button" class="navbar-toggle" ng-click="$ctrl.isNavCollapsed = !$ctrl.isNavCollapsed">\n        <span class="sr-only">Toggle navigation</span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>\n    </div>\n    <div class="collapse navbar-collapse" uib-collapse="$ctrl.isNavCollapsed">\n      <ul class="nav navbar-nav">\n        <li><a ui-sref="puzzleGame">Play Game</a></li>\n        <li><a ui-sref="score">Hightest Scores</a></li>\n      </ul>\n    </div>\n  </nav>\n</header>'},392:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(393),o=n(r),a=function e(){(0,o.default)(this,e),this.isNavCollapsed=!0};exports.default=a},394:function(e,exports,t){var n=t(395);"string"==typeof n&&(n=[[e.id,n,""]]);t(397)(n,{});n.locals&&(e.exports=n.locals)},395:function(e,exports,t){exports=e.exports=t(396)(),exports.push([e.id,"@import url(http://fonts.googleapis.com/css?family=Roboto);",""]),exports.push([e.id,"body{height:100%;font:62.5% Roboto,sans-serif}.navbar-collapse{background:#f5f5f5}.navbar{height:6.5rem;background-color:#0277bd;padding:1rem}.navbar .logo,.navbar .nav-links{display:inline-block}.navbar .logo{color:#f5f5f5;margin-right:50%}.navbar .nav-links span{color:#f5f5f5;font-size:1.6rem}",""])},398:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){var e=40;return{COUNTDOWN_SECONDS:e}};exports.default=t},399:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){return{restrict:"A",link:function(e,t,n){t.on("keypress",function(r){var o=e.$eval(n.validWordEntering),a=String.fromCharCode(r.which),u=(t[0].value?t[0].value:"")+a;0!==o.indexOf(u)&&r.preventDefault()})}}};exports.default=t},400:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(e){function t(){return e.getScores().then(function(e){return e.map(function(e){return{score:e.score,name:e.user_name}})})}function n(t){return e.createScore(t).then(function(e){return{score:e.score,name:e.user_name}})}return{getScores:t,saveScore:n}};exports.default=["scoreApiService",t]},401:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(e){function t(){return e.get(r+"/user_score?pageSize=100&sortBy=score%20desc").then(function(e){return e.data})}function n(t){return e.post(r+"/user_score",t).then(function(e){return e.data})}var r="https://api.backendless.com/F26DB969-2FED-E1C8-FF69-CF7E952DB900/CEF2FABF-BF30-958A-FF7C-468BBCC77100/data";return{getScores:t,createScore:n}};exports.default=["$http",t]},402:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(298),o=n(r),a=t(403),u=n(a),l=t(445),s=n(l),i=o.default.module("app.components",[u.default,s.default]).name;exports.default=i},403:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(298),o=n(r),a=t(300),u=n(a),l=t(388),s=n(l),i=t(404),c=n(i),d=t(428),f=n(d),p=t(433),v=n(p),h=t(438),m=n(h),g=t(443),b=n(g),_=t(444),y=n(_),z=o.default.module("puzzleGame",[u.default,s.default]).config(["$stateProvider","$urlRouterProvider",function(e,t){"ngInject";t.otherwise("/"),e.state("puzzleGame",{url:"/",component:"puzzleGame"})}]).component("puzzleGame",c.default).component("countdown",f.default).component("puzzleWord",v.default).component("resultScore",m.default).factory("puzzleGameService",y.default).factory("puzzleGameApiService",b.default).name;exports.default=z},404:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(405),o=n(r),a=t(406),u=n(a);t(426);var l={bindings:{},template:o.default,controller:u.default};exports.default=l},405:function(e,exports){e.exports='<main class="puzzle-game">\n\n  <div class="row">\n    <h1>Puzzle Game</h1>\n    <div class="puzzle-game__start-game col-xs-12 col-md-4">\n      <p class="form-group">\n        <label type="text">Your Name</label>\n        <input type="text" class="form-control" ng-model="$ctrl.userName" ng-change="$ctrl.onChangedUserName()">\n      </p>\n      <button type="button" class="btn btn-primary btn-lg" ng-click="$ctrl.startGame()" ng-disabled="$ctrl.isRunning || $ctrl.isInvalidName">Start new game</button>\n    </div>\n  </div>\n\n  <div class="row">\n    <puzzle-word ng-show="$ctrl.isRunning" class="col-xs-12 col-md-4" word="$ctrl.word" handle-next-word="$ctrl.handleNextWord(word)"></puzzle-word>\n  </div>\n  \n  <div class="row">\n    <countdown class="col-xs-12 col-md-6"></countdown>\n    <result-score class="col-xs-12 col-md-6" result-score="$ctrl.resultScore"></result-score>\n  </div>\n\n</main>\n'},406:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(393),o=n(r),a=t(407),u=n(a),l=function(){function e(t,n,r,a){(0,o.default)(this,e),this.inst=null,this.goListener=null,this.loading=!1,this.isInvalidName=!0,this.isRunning=!1,this.userName="",this.word="",this.correctWord="",this.resultScore=0,this.$rootScope=t,this.puzzleGameService=n,this.scoreService=r,this.Config=a}return(0,u.default)(e,[{key:"$onInit",value:function(){this.goListener=this.registerOnGameOver()}},{key:"$onDestroy",value:function(){this.goListener()}},{key:"startGame",value:function(){this.showFirstWord()}},{key:"onChangedUserName",value:function(){this.isInvalidName=!this.userName||this.userName.length<3}},{key:"showFirstWord",value:function(){var e=this;this.loading=!0,this.puzzleGameService.startGame().then(function(){e.word=e.puzzleGameService.getNextWord(),e.resultScore=0,e.isRunning=!0,e.$rootScope.$broadcast("startGame")}).finally(function(t){e.loading=!1})}},{key:"handleNextWord",value:function(){this.resultScore=this.puzzleGameService.saveResult(this.word),this.word=this.puzzleGameService.getNextWord()}},{key:"registerOnGameOver",value:function(){var e=this;return this.$rootScope.$on("gameOver",function(){e.isRunning=!1,e.scoreService.saveScore({score:e.resultScore,user_name:e.userName})})}}]),e}();exports.default=["$rootScope","puzzleGameService","scoreService","Config",l]},426:function(e,exports,t){var n=t(427);"string"==typeof n&&(n=[[e.id,n,""]]);t(397)(n,{});n.locals&&(e.exports=n.locals)},427:function(e,exports,t){exports=e.exports=t(396)(),exports.push([e.id,".puzzle-game{padding:0 2em 2em}.puzzle-game__start-game{padding:2em}",""])},428:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(429),o=n(r),a=t(430),u=n(a);t(431);var l={bindings:{},template:o.default,controller:u.default};exports.default=l},429:function(e,exports){e.exports='<div class="countdown jumbotron">\n  <h2>Countdown: {{$ctrl.countdown}}</h2>\n</div>'},430:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(393),o=n(r),a=t(407),u=n(a),l=function(){function e(t,n,r){(0,o.default)(this,e),this.inst=null,this.sgListener=null,this.$rootScope=t,this.$interval=n,this.Config=r}return(0,u.default)(e,[{key:"$onInit",value:function(){this.sgListener=this.registerOnStartGame()}},{key:"startCountdown",value:function(){var e=this;this.inst&&this.$interval.cancel(this.inst),this.countdown=this.Config.COUNTDOWN_SECONDS,this.inst=this.$interval(function(){e.countdown--,e.countdown<=0&&(e.countdown="Game over. :)",e.$interval.cancel(e.inst),e.inst=null,e.$rootScope.$broadcast("gameOver"))},1e3)}},{key:"registerOnStartGame",value:function(){var e=this;return this.$rootScope.$on("startGame",function(){e.startCountdown()})}},{key:"$onDestroy",value:function(){this.inst&&this.$interval.cancel(this.inst),this.sgListener()}}]),e}();exports.default=["$rootScope","$interval","Config",l]},431:function(e,exports,t){var n=t(432);"string"==typeof n&&(n=[[e.id,n,""]]);t(397)(n,{});n.locals&&(e.exports=n.locals)},432:function(e,exports,t){exports=e.exports=t(396)(),exports.push([e.id,".countdown{padding:2em}",""])},433:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(434),o=n(r),a=t(435),u=n(a);t(436);var l={bindings:{word:"<",handleNextWord:"&"},template:o.default,controller:u.default};exports.default=l},434:function(e,exports){e.exports='<div class="puzzle-word">\n  <h4>Puzzled word: {{$ctrl.word.shuffledWord}}</h4>\n  <p class="form-group">\n    <label type="text">Write correct word form</label>\n    <input type="text" class="form-control" ng-model="$ctrl.word.correctWord" valid-word-entering="$ctrl.word.selectedWord">\n  </p>\n  <button type="button" class="btn btn-primary btn-lg" ng-click="$ctrl.onNextWordClick()">Next word</button>\n</div>'},435:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(393),o=n(r),a=t(407),u=n(a),l=function(){function e(){(0,o.default)(this,e)}return(0,u.default)(e,[{key:"onNextWordClick",value:function(){this.handleNextWord({word:this.word})}}]),e}();exports.default=["puzzleGameService","Config",l]},436:function(e,exports,t){var n=t(437);"string"==typeof n&&(n=[[e.id,n,""]]);t(397)(n,{});n.locals&&(e.exports=n.locals)},437:function(e,exports,t){exports=e.exports=t(396)(),exports.push([e.id,".puzzle-word{padding-bottom:2em}",""])},438:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(439),o=n(r),a=t(440),u=n(a);t(441);var l={bindings:{resultScore:"<"},template:o.default,controller:u.default};exports.default=l},439:function(e,exports){e.exports='<div class="result-score jumbotron">\n  <h2>Result Score: {{$ctrl.resultScore}}</h2>\n</div>'},440:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(393),o=n(r),a=function e(){(0,o.default)(this,e)};exports.default=[a]},441:function(e,exports,t){var n=t(442);"string"==typeof n&&(n=[[e.id,n,""]]);t(397)(n,{});n.locals&&(e.exports=n.locals)},442:function(e,exports,t){exports=e.exports=t(396)(),exports.push([e.id,".result-score{padding:2em}",""])},443:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(e){function t(){return e.get(n+"/puzzle_word?pageSize=100").then(function(e){return e.data})}var n="https://api.backendless.com/F26DB969-2FED-E1C8-FF69-CF7E952DB900/CEF2FABF-BF30-958A-FF7C-468BBCC77100/data";return{getPuzzleWords:t}};exports.default=["$http",t]},444:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(e){function t(){return e.getPuzzleWords().then(function(e){u=e.map(function(e){return e.word}),l=u.slice(),s=0})}function n(){return u?(l=u.slice(),s=0,i):i=t()}function r(e){var t=e.selectedWord.length-e.correctWord.length,n=Math.floor(Math.pow(1.95,e.selectedWord.length/3));return s+=Math.max(n-t,0)}function o(){0===l.length&&(l=u.slice());for(var e=l.pop(),t=a(e);t===e;)t=a(e);return{selectedWord:e,shuffledWord:t,correctWord:""}}function a(e){for(var t=e.split(""),n=t.length,r=n-1;r>0;r--){var o=Math.floor(Math.random()*(r+1)),a=t[r];t[r]=t[o],t[o]=a}return t.join("")}var u=null,l=[],s=0,i=null;return{startGame:n,saveResult:r,getNextWord:o}};exports.default=["puzzleGameApiService",t]},445:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(298),o=n(r),a=t(300),u=n(a),l=t(388),s=n(l),i=t(446),c=n(i),d=o.default.module("score",[u.default,s.default]).config(["$stateProvider",function(e){"ngInject";e.state("score",{url:"/score",component:"score"})}]).component("score",c.default).name;exports.default=d},446:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(447),o=n(r),a=t(448),u=n(a);t(449);var l={bindings:{},template:o.default,controller:u.default};exports.default=l},447:function(e,exports){e.exports='<main class="puzzle-game row">\n  <h1>Highest scores</h1>\n  <table class="table table-striped"> \n    <thead> \n      <tr> \n        <th>#</th> \n        <th>Player Name</th> \n        <th>Score</th> \n      </tr>\n    </thead> \n    <tbody> \n      <tr ng-repeat="player in $ctrl.players track by $index"> \n        <td>{{$index + 1}}</td> \n        <td>{{player.name}}</td> \n        <td>{{player.score}}</td> \n      </tr> \n    </tbody> \n  </table>\n</main>'},448:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(393),o=n(r),a=t(407),u=n(a),l=function(){function e(t){(0,o.default)(this,e),this.scoreService=t}return(0,u.default)(e,[{key:"$onInit",value:function(){this.loadScoreList()}},{key:"loadScoreList",value:function(){var e=this;this.scoreService.getScores().then(function(t){e.players=t})}}]),e}();exports.default=["scoreService",l]},449:function(e,exports,t){var n=t(450);"string"==typeof n&&(n=[[e.id,n,""]]);t(397)(n,{});n.locals&&(e.exports=n.locals)},450:function(e,exports,t){exports=e.exports=t(396)(),exports.push([e.id,".score{padding:0 2em 2em}",""])},451:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(452),o=n(r);t(453);var a={template:o.default};exports.default=a},452:function(e,exports){e.exports='<!-- Place all UI elements intended to be present across all routes in this file -->\n<div class="app container">\n  <navbar></navbar>\n  <div class="body" ui-view></div>\n</div>\n'},453:function(e,exports,t){var n=t(454);"string"==typeof n&&(n=[[e.id,n,""]]);t(397)(n,{});n.locals&&(e.exports=n.locals)},454:function(e,exports,t){exports=e.exports=t(396)(),exports.push([e.id,"@import url(http://fonts.googleapis.com/css?family=Roboto);",""]),exports.push([e.id,"body{height:100%;font:62.5% Roboto,sans-serif}.navbar-collapse{background:#f5f5f5}.app{height:100%}",""])}});
//# sourceMappingURL=app.bundle.js.map